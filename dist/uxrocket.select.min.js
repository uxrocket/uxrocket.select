/*! UX Rocket Select 
 *  jQuery based Select box replacement function 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 3.6.3 
 *  @build Mon Jun 19 2017 10:35:36 GMT+0300 (Turkey Standard Time) 
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function($){"use strict";"undefined"==typeof window.UXRocket&&console.warn("UXRocket Select is required UXRocket Factory to run properly. You can clone/download factory at https://github.com/uxrocket/uxrocket.factory");var ux,i=1,rocketName="uxrSelect",focusedInstances={lastFocused:null,current:null},touchmove=!1,virtualKeyboardVisible=!1,templates={selection:'<a href="#" id="{{selectionClass}}-{{id}}" class="{{selectionClass}}{{#if multiple}} {{multipleClass}}{{/if}}{{#if disabled}} {{disabledClass}}{{/if}}{{#if readonly}} {{readonlyClass}}{{/if}} {{themeCurrent}}" style="{{width}}">    <span class="{{selectionTextClass}}">{{selectionText}}</span>    <span class="{{arrowClass}} {{themeArrow}}"></span></a>',tags:'{{#each selected}}<span class="{{selectionTagClass}} {{selectionTagClass}}-{{selected.index}} {{#if selected.isRemovable}} {{hasRemoveSelected}} {{/if}}" data-index="{{selected.index}}" data-value="{{selected.value}}">    {{selected.text}}    {{#if selected.isRemovable}}    <span class="{{removeSelectionClass}}">X</span>    {{/if}}</span>{{/each}}',multi:'<span class="{{selectionTagClass}} {{selectionTagClass}}-{{index}} {{#if isRemovable}} {{hasRemoveSelected}} {{/if}}" data-index="{{index}}" data-value="{{value}}">    {{selectionText}}    {{#if isRemovable}}    <span class="{{removeSelectionClass}}">X</span>    {{/if}}</span>',search:'<span class="{{searchClass}}">   <input type="{{inputType}}" name="{{searchInput}}" /></span>',list:'<ul class="{{listClass}} {{themeList}}">    {{#each options}}    {{#if options.groupStart}}    <li class="{{groupClass}}">        <span class="{{groupNameClass}}">{{options.groupName}}</span>        <ul>    {{/if}}    <li id="{{optionClass}}-{{options.index}}" class="{{#if options.selected}}{{selectedClass}} {{themeSelected}}{{/if}} {{#if options.disabled}}{{disabledClass}} {{themeDisabled}}{{/if}}">        <a class="{{optionClass}} {{themeOption}} {{options.class}}" data-index="{{options.index}}" data-value="{{options.value}}">{{options.text}}</a>    </li>    {{#if options.groupEnd}}        </li>    </ul>    {{/if}}    {{/each}}</ul>',drop:'<div id="{{dropID}}" data-select="{{id}}" class="{{dropClass}} {{themeDrop}}{{#if multiple}} {{multipleClass}}{{/if}}">    {{search}}    {{list}}</div>'},defaults={wrapper:"",opened:"",current:"",arrow:"",drop:"",list:"",option:"",selected:"",disabled:"",search:!0,searchItemLimit:10,searchType:"starts",displayType:"tags",multipleInfoMessage:"Seçilen Kayıt:",minLetters:2,maxSelection:0,maxSelectionWarn:"You have reached allowed maximum selection",numeric:!1,isRemovable:!1,onReady:!1,onOpen:!1,onClose:!1,onSelect:!1,onChange:!1,onUpdate:!1,onDestroy:!1},events={focus:"focus."+rocketName,blur:"blur."+rocketName,change:"change."+rocketName,click:"click."+rocketName+" touchend."+rocketName+" pointerup."+rocketName+" MSPointerUp."+rocketName,mousedown:"mousedown."+rocketName+" pointerdown."+rocketName+" MSPointerDown."+rocketName,keyup:"keyup."+rocketName,keydown:"keydown."+rocketName,keypress:"keypress."+rocketName,input:"input."+rocketName,resize:"resize."+rocketName,touchend:"touchend."+rocketName+" pointerup."+rocketName+" MSPointerUp."+rocketName,touchmove:"touchmove."+rocketName,ready:"uxrready."+rocketName,open:"uxropen."+rocketName,close:"uxrclose."+rocketName,select:"uxrselect."+rocketName,update:"uxrupdate."+rocketName,destroy:"uxrdestroy."+rocketName,scroll:"scroll",iconClick:"iconclick."+rocketName},keys={codes:{8:"backspace",9:"tab",13:"return",27:"esc",37:"left",38:"up",39:"right",40:"down"},backspace:8,tab:9,"return":13,esc:27,left:37,up:38,right:39,down:40},ns={prefix:"uxr-",rocket:"uxRocket",data:rocketName,name:"select",classes:{wrap:"wrap",ready:"ready",disabled:"disabled",readonly:"readonly",selection:"selection",selectionText:"selection-text",selectionTag:"selected-tag",removeSelection:"remove-selected-tag",hasRemoveSelected:"has-remove-selected-tag",arrow:"arrow",multiple:"multiple",numeric:"numeric",opened:"opened",drop:"drop",reverseDrop:"reverse-drop",list:"list",option:"option",optionName:"option-name",group:"group",groupName:"group-name",highlight:"highlight",selected:"selected",search:"search",hidden:"aria-hidden",hide:"hide",iconHolder:"icon-holder"}},searchIcon="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI1MC4zMTMgMjUwLjMxMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjUwLjMxMyAyNTAuMzEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCI+CjxnIGlkPSJTZWFyY2giPgoJPHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkOyIgZD0iTTI0NC4xODYsMjE0LjYwNGwtNTQuMzc5LTU0LjM3OGMtMC4yODktMC4yODktMC42MjgtMC40OTEtMC45My0wLjc2ICAgYzEwLjctMTYuMjMxLDE2Ljk0NS0zNS42NiwxNi45NDUtNTYuNTU0QzIwNS44MjIsNDYuMDc1LDE1OS43NDcsMCwxMDIuOTExLDBTMCw0Ni4wNzUsMCwxMDIuOTExICAgYzAsNTYuODM1LDQ2LjA3NCwxMDIuOTExLDEwMi45MSwxMDIuOTExYzIwLjg5NSwwLDQwLjMyMy02LjI0NSw1Ni41NTQtMTYuOTQ1YzAuMjY5LDAuMzAxLDAuNDcsMC42NCwwLjc1OSwwLjkyOWw1NC4zOCw1NC4zOCAgIGM4LjE2OSw4LjE2OCwyMS40MTMsOC4xNjgsMjkuNTgzLDBDMjUyLjM1NCwyMzYuMDE3LDI1Mi4zNTQsMjIyLjc3MywyNDQuMTg2LDIxNC42MDR6IE0xMDIuOTExLDE3MC4xNDYgICBjLTM3LjEzNCwwLTY3LjIzNi0zMC4xMDItNjcuMjM2LTY3LjIzNWMwLTM3LjEzNCwzMC4xMDMtNjcuMjM2LDY3LjIzNi02Ny4yMzZjMzcuMTMyLDAsNjcuMjM1LDMwLjEwMyw2Ny4yMzUsNjcuMjM2ICAgQzE3MC4xNDYsMTQwLjA0NCwxNDAuMDQzLDE3MC4xNDYsMTAyLjkxMSwxNzAuMTQ2eiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=",utils=new window.uxrPluginUtils({ns:ns});console.log(utils);var Select=function(e,t,s){this._instance=i,this._name=rocketName,this._defaults=defaults,this.wrapped=!1,this.el=e,this.$el=$(e),this.id="uxr-select-options-"+i,this.multiple=this.el.hasAttribute("multiple"),this.disabled=this.el.hasAttribute("disabled"),this.readonly=this.el.hasAttribute("readonly"),this.width=this.getWidth(),this.selector=s,this.opened=!1,this.hasGroup=!1,this.tabbed=!1,this.clicked=!1,this.searchQueryHolder=[],this.nonLetters=[8,9,13,27,38,40,46],this.options=$.extend(!0,{},defaults,t,this.$el.data()),i++,this.init()};Select.prototype.init=function(){""===this.el.id&&(this.el.id=ns.data+"-"+this._instance),this.loadAjaxData(function(){this.registry(),this.getOptionData(),this.decorateUI(),this.bindUI(),this.bindSelectionUI(),this.$el.addClass(utils.getClassname("ready")),this.appendIcon(),this.emitEvent("ready")}.bind(this))},Select.prototype.appendIcon=function(){if(this.options.withIcon){var e=this.options.iconTemplate||'<img src="'+searchIcon+'" />';this.$el.next().append('<span class="'+utils.getClassname("iconHolder")+'">'+e+"</span>"),this.bindIcon()}},Select.prototype.bindIcon=function(){$("body").find("."+utils.getClassname("iconHolder")).off(events.click),$("body").find("."+utils.getClassname("iconHolder")).on(events.click,function(e){this.emitEvent("iconClick"),this.options.iconClicked&&this.options.iconClicked()}.bind(this))},Select.prototype.prepareRequest=function(){this.requestModel={},this.options.transformRequest&&(this.requestModel=$.extend(!0,this.requestModel,this.options.transformRequest()));var e=null;try{e=this.$search.val()}catch(t){}e&&e.length<3||(this.requestModel[this.options.searchTerm||"searchTerm"]=e)},Select.prototype.sendRequest=function(){var dfd=jQuery.Deferred();return this.prepareRequest(),this.options.changeEndpoint&&(this.options.ajaxUrl=this.options.changeEndpoint()),$.ajax({url:this.options.ajaxUrl,method:this.options.httpMethod||"GET",data:this.requestModel,success:function(e){for(var t="",s=0,i=e.length;s<i;s++)t+='<option value="'+e[s][this.options.value]+'">'+e[s][this.options.key]+"</option>";this.$el.empty().append(t),dfd.resolve(e)}.bind(this),error:function(e){console.log("An error occurred fetching ajax data"),dfd.reject(e)},dataFilter:this.options.transformResponse?eval(this.options.transformResponse):function(e){return e}}),dfd.promise()},Select.prototype.loadAjaxData=function(e){this.options.ajax&&this.options.ajaxUrl?this.sendRequest().done(function(){e()}):e()},Select.prototype.getSelected=function(){var e=[],t=this;return this.multiple?this.$el.find("option:selected").each(function(){e.push({index:$(this).index(),value:$(this).attr("value"),text:$(this).text(),isRemovable:t.options.isRemovable})}):(e.value=this.$el.val(),e.text=this.$el.find("option:selected").text()),e},Select.prototype.getOptionData=function(){var e=this,t=0;e.optionData=[],this.$el.find("option").each(function(){var s=!1,i=!1,o=!1;"OPTGROUP"===this.parentElement.tagName&&(this===this.parentElement.firstElementChild&&(i=this.parentElement.label,s=!0),this===this.parentElement.lastElementChild&&(o=!0)),e.optionData.push({groupName:i,groupStart:s,groupEnd:o,index:t,text:$(this).text(),value:$(this).val(),selected:$(this).is(":selected"),disabled:$(this).is(":disabled"),"class":$(this).attr("class")||""}),t++})},Select.prototype.decorateUI=function(){this.addAttributes(),this.wrap(),this.addSelection()},Select.prototype.undecorateUI=function(){this.unwrap(),this.removeSelection(),this.removeAttributes()},Select.prototype.wrap=function(){this.$el.parent().is("label")?this.$el.parent().addClass(utils.getClassname("wrap")):(this.wrapped=!0,this.$el.wrap('<label class="'+utils.getClassname("wrap")+'"></label>')),this.$el.parent().addClass(this.options.wrapper)},Select.prototype.unwrap=function(){this.wrapped?this.$el.unwrap():this.$el.parent().removeClass(utils.getClassname("wrap")+" "+this.options.wrapper)},Select.prototype.addSelection=function(){var e=this.renderSelection();this.$selection=$(e),this.$el.after(this.$selection)},Select.prototype.removeSelection=function(){this.$el.next("."+utils.getClassname("selection")).remove(),delete this.$selection},Select.prototype.addAttributes=function(){this.$el.addClass(utils.getClassname("hidden")).attr("aria-hidden",!0)},Select.prototype.removeAttributes=function(){this.$el.removeAttr("aria-hidden").removeClass(utils.getClassname("hidden")+" "+utils.getClassname("ready"))},Select.prototype.bindUI=function(){var e=this;e.$el.on(events.focus,function(t){t.preventDefault(),e.onFocus()}).on(events.open,function(t){e.onOpen(t)}).on(events.close,function(t){e.onClose(t)}).on(events.change,function(t){e.onChange(t)}).on(events.ready,function(t){e.onReady(t)}).on(events.select,function(t){e.onSelect(t)}).on(events.update,function(){e.onUpdate()}).on(events.destroy,function(){e.onDestroy()})},Select.prototype.bindSelectionUI=function(){var e=this;e.$selection.on(events.keyup,function(t){t.preventDefault(),e.onKeyup(t)}).on(events.focus,function(t){t.preventDefault(),e.onFocus()}).on(events.blur,function(){e.onBlur()}).on(events.mousedown,function(e){e.stopPropagation(),e.preventDefault()}).on(events.click,function(t){t.stopPropagation(),t.preventDefault(),e.onClick(t)}).on(events.mousedown,"."+utils.getClassname("removeSelection"),function(t){return t.stopPropagation(),t.preventDefault(),!e.disabled&&($(e.optionData).each(function(){this.text===$(t.target).parent().data("value")&&(this.selected=!1)}),void e.removeTag($(this).parent()))}).parent().on(events.mousedown,function(t){t.stopPropagation(),t.preventDefault(),setTimeout(function(){e.onFocus()},100)})},Select.prototype.bindDropUI=function(){var e=this;e.$drop.on(events.click,function(e){e.stopPropagation()}).on(events.touchmove,"."+utils.getClassname("option"),function(e){e.stopPropagation(),touchmove=!0}).on(events.mousedown,"."+utils.getClassname("option"),function(t){t.stopPropagation(),t.preventDefault(),touchmove||(e.emitEvent("select"),e.select($(t.currentTarget))),touchmove=!1}).on(events.focus,"."+utils.getClassname("search")+" input",function(){e.setDropPosition(!0)}),e.bindKeyupListener()},Select.prototype.unbindUI=function(){this.emitEvent("destroy"),this.$selection.off("."+rocketName),this.$selection.parent().off("."+rocketName),this.$el.off("."+rocketName)},Select.prototype.unbindKeyupListener=function(){$(document).off(events.keyup)},Select.prototype.bindKeyupListener=function(){var e=this;$(document).on(events.keyup,function(t){return t.preventDefault(),t.keyCode===keys.up||t.keyCode===keys.down?e.navigateWithArrow(keys.codes[t.keyCode]):t.keyCode===keys["return"]?e.navigateWithEnter():t.keyCode===keys.esc?e.close():e.$search.val().length>=e.options.minLetters?e.options.ajax&&e.options.ajaxUrl?e.sendRequest():e.search(e.$search.val()):e.setOriginalList(),!0})},Select.prototype.select=function(e){var t=utils.getClassname("selected"),s=utils.getClassname("highlight"),i=utils.getClassname("selectionText"),o=utils.getClassname("selectionTag"),n=utils.getClassname("removeSelection"),l=utils.getClassname("hasRemoveSelected"),a=e.parent(),r=a.attr("id"),c=e.data("index"),p=e.data("value"),d=e.text(),h=this.$el.val(),u=this.options.isRemovable;if(!a.hasClass(utils.getClassname("disabled"))){if(this.multiple){if(a.hasClass(t))this.deSelect(p);else{if(this.options.maxSelection>0&&null!==h&&h.length>=this.options.maxSelection)return void alert(this.options.maxSelectionWarn);if(this.$el.find('[value="'+p+'"]').prop("selected",!0),this.$list.find("#"+r).addClass(t),a.addClass(t),"tags"===this.options.displayType){var m=utils.render(templates.multi,{selectionText:d,selectionTagClass:o,removeSelectionClass:n,index:c,value:p,isRemovable:u,hasRemoveSelected:l});null===this.$el.val()?this.$selection.find("."+i).html(m):this.$selection.find("."+i).append(m)}else this.$selection.find("."+i).html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length);this.options.search&&this.updateOptionData("selected",{prop:"index",val:c},!0)}this.setDropPosition()}else this.$list.find("."+s).removeClass(s),this.$list.find("."+t).removeClass(t),this.$selection.find("."+i).text(d),this.$el.find('[value="'+p+'"]').prop("selected",!0),this.onBlur(),this.$list.find("#"+r).addClass(t),""!==this.$el.val()?this.$selection.parent().addClass(t+" "+this.options.selected):this.$selection.parent().removeClass(t+" "+this.options.selected);this.emitEvent("change")}},Select.prototype.deSelect=function(e){var t=utils.getClassname("selected"),s=utils.getClassname("selectionText"),i=(utils.getClassname("selectionTag"),$('[data-value="'+e+'"]').parent()),o=this.$drop.find('[data-value="'+e+'"]').data("index");if(e&&this.$el.find('[value="'+e+'"]').prop("selected",!1),this.$drop?this.$drop.find('[data-value="'+e+'"]').parent().removeClass(t):this.prepareDrop(),this.$el.find('[value="'+e+'"]').removeAttr("selected"),i.removeClass(t),this.$selection.find('[data-value="'+e+'"]').remove(),this.$el.val()&&this.$el.val($.grep(this.$el.val(),function(t){return t!==e})),this.multiple&&"tags"!==this.options.displayType){var n=this.$selection.find("."+s);this.$el.val()?n.html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length):n.html(this.options.multipleInfoMessage+" 0/"+this.optionData.length)}this.multiple&&"tags"===this.options.displayType&&(null===this.$el.val()||this.$el.val().length<1)&&this.$selection.find("."+s).text(this.multiplePlaceholder),this.emitEvent("change"),this.$el.trigger("change"),this.updateOptionData("selected",{prop:"index",val:o},!1)},Select.prototype.removeTag=function(e){this.deSelect(e.data("value")),this.setDropPosition()},Select.prototype.search=function(e){var t,s,i=this,o=this.$drop.find("."+utils.getClassname("list"));t=$.map(this.optionData,function(t){if(i._search(t,e.trim()))return t}),s=this.renderList(t),o.replaceWith(s),this.setDropPosition()},Select.prototype._search=function(e,t){var s=e.text.replace("İ","i").toLowerCase(),i=e.value.replace("İ","i").toLowerCase(),o=t.replace("İ","i").toLowerCase();switch(this.options.searchType){default:case"starts":return 0===s.indexOf(o)||0===i.toLowerCase().indexOf(o);case"contains":return s.indexOf(o)>-1||i.toLowerCase().indexOf(o)>-1}},Select.prototype.navigateWithEnter=function(){if(!this.multiple){var e=this.$drop.find("."+utils.getClassname("list")),t=utils.getClassname("highlight"),s=e.find("."+t);s.length>0&&(s.removeClass(t),this.select(s.find("a")),this.emitEvent("select"))}},Select.prototype.navigateWithArrow=function(e){var t,s=utils.getClassname("highlight"),i=this.$drop.find("."+utils.getClassname("list")),o=i.find("li:not(."+utils.getClassname("group")+")"),n=i.find("."+s).length>0?i.find("."+s):i.find("."+utils.getClassname("selected")),l=o.index(n),a=i.offset().top,r=i.scrollTop(),c=i.height();if(n.length)n.removeClass(s),"up"===e?--l<0&&(l=o.length-1):o.length===++l&&(l=0),t=$(o[l]).addClass(s),t.length&&("down"===e?t.offset().top>a+c-t.height()?i.scrollTop(r+t.height()):t.offset().top<a&&i.scrollTop(0):t.offset().top<a?i.scrollTop(r-t.height()):t.offset().top>a+c&&i.scrollTop(r+t.offset().top));else{var p="up"===e?"last":"first";o[p]().addClass(s)}},Select.prototype.renderSelection=function(){var e={id:this.el.id,selectionClass:utils.getClassname("selection"),multiple:this.multiple,multipleClass:utils.getClassname("multiple"),disabled:this.disabled,disabledClass:utils.getClassname("disabled"),readonly:this.readonly,readonlyClass:utils.getClassname("readonly"),width:"width:"+this.width,selectionTextClass:utils.getClassname("selectionText"),selectionText:this.getSelected().text,arrowClass:utils.getClassname("arrow"),themeCurrent:this.options.current,themeArrow:this.options.arrow};return this.multiple&&(this.multiplePlaceholder=this.$el.attr("placeholder")||this.options.placeholder||"",this.getSelected().length>0?"text"===this.options.displayType?e.selectionText=this.options.multipleInfoMessage+" "+this.getSelected().length+"/"+this.optionData.length:e.selectionText=this.renderSelectionTags():e.selectionText=this.multiplePlaceholder),utils.render(templates.selection,e)},Select.prototype.renderSelectionTags=function(){var e={selectionTagClass:utils.getClassname("selectionTag"),removeSelectionClass:utils.getClassname("removeSelection"),hasRemoveSelected:utils.getClassname("hasRemoveSelected"),selected:this.getSelected()};return utils.render(templates.tags,e)},Select.prototype.renderSearchField=function(){var e={searchClass:utils.getClassname("search"),searchInput:utils.getClassname("search")+"-"+this._instance,inputType:this.options.numeric?"tel":"text",list:this.id};return utils.render(templates.search,e)},Select.prototype.renderList=function(e){var t={listClass:utils.getClassname("list"),groupClass:utils.getClassname("group"),groupNameClass:utils.getClassname("groupName"),selectedClass:utils.getClassname("selected"),disabledClass:utils.getClassname("disabled"),optionClass:utils.getClassname("option"),options:e||this.optionData,themeList:this.options.list,themeSelected:this.options.selected,themeDisabled:this.options.disabled,themeOption:this.options.option};return utils.render(templates.list,t)},Select.prototype.renderDrop=function(){var e={dropID:this.id,id:this.el.id,dropClass:utils.getClassname("drop"),themeDrop:this.options.drop,multiple:this.multiple,multipleClass:utils.getClassname("drop")+"-multiple",search:this.renderSearchField(),list:this.renderList()};return utils.render(templates.drop,e)},Select.prototype.prepareDrop=function(){this.$drop=$(this.renderDrop()),this.$list=this.$drop.find("."+utils.getClassname("list")),this.$search=this.$drop.find("."+utils.getClassname("search")+" input"),this.setDropPosition(),this.setListPosition(),!this.options.search||this.options.searchItemLimit>=this.optionData.length?this.$search.parent().addClass(utils.getClassname("hide")):this.$search.parent().removeClass(utils.getClassname("hide"))},Select.prototype.setDropPosition=function(){var e={top:this.getPosition().top+this.$selection.height(),left:this.getPosition().left,minWidth:this.$selection.outerWidth()},t=$(".uxr-select-list"),s=this.$drop.height()>280?280:this.$drop.height(),i=virtualKeyboardVisible?280:0,o=document.documentElement.clientHeight-i,n=this.$el.offset().top-$(window).scrollTop(),l=o-n-this.$selection.height(),a={top:function(){t.css({maxHeight:n>250?250:n})},bottom:function(){t.css({maxHeight:l>250?250:l})}};if(l>=s)a.bottom();else{var r=s-l<s-n?"bottom":"top";"bottom"===r?a.bottom():(a.top(),e.top=this.getPosition().top-this.$drop.height())}this.$drop.css(e).removeClass(utils.getClassname("reverseDrop"))},Select.prototype.setListPosition=function(){var e=this.$list.find("."+utils.getClassname("selected")+":eq(0)");1===e.length&&this.$list.scrollTop(e.offset().top-this.$list.offset().top-this.$list.height()/2)},Select.prototype.setOriginalList=function(){this.$drop.find("."+utils.getClassname("list")).replaceWith(this.$list)},Select.prototype.showDrop=function(){this.$drop.appendTo("body"),this.setDropPosition(),this.setListPosition(),this.$list.find("."+utils.getClassname("highlight")).removeClass(utils.getClassname("highlight")),this.bindDropUI()},Select.prototype.hideDrop=function(){var e=$("#"+this.id);e.length>0&&($("#"+this.id).remove(),this.$search.val(""),this.setOriginalList())},Select.prototype.open=function(){if(!this.disabled&&!this.readonly){try{document.activeElement.blur()}catch(e){console.log(e)}ux.close(),this.$drop||this.prepareDrop(),this.isVirtualKeyboardVisible(),this.showDrop(),this.$selection.parent().addClass(utils.getClassname("opened")+" "+this.options.opened),this.opened=!0,this.$search.focus(),this.emitEvent("open")}},Select.prototype.close=function(){touchmove=!1,virtualKeyboardVisible=!1,this.clicked=!1,this.tabbed=!1,this.opened=!1,this.unbindKeyupListener(),this.hideDrop(),this.$selection.parent().removeClass(utils.getClassname("opened")+" "+this.options.opened),this.emitEvent("close")},Select.prototype.onKeyup=function(e){e.keyCode===keys.tab&&(this.tabbed=!0)},Select.prototype.onClick=function(e){try{if("tags"===this.options.displayType&&$(e.target).parent().hasClass(utils.getClassname("iconHolder")))return}catch(e){console.log(e)}this.clicked=!0,this.opened?this.onBlur():this.onFocus()},Select.prototype.onFocus=function(){focusedInstances.lastFocused=focusedInstances.current,focusedInstances.current=this,this.open()},Select.prototype.onBlur=function(){this.close()},Select.prototype.onChange=function(e){utils.callback(this.options.onChange)},Select.prototype.onReady=function(){utils.callback(this.options.onReady)},Select.prototype.onOpen=function(){utils.callback(this.options.onOpen)},Select.prototype.onClose=function(){utils.callback(this.options.onClose)},Select.prototype.onSelect=function(){utils.callback(this.options.onSelect)},Select.prototype.onUpdate=function(){utils.callback(this.options.onUpdate)},Select.prototype.onDestroy=function(){utils.callback(this.options.onDestroy)},Select.prototype.resetSelection=function(){this.removeSelection(),this.addSelection(),this.bindSelectionUI()},Select.prototype.update=function(e){var t=this.options;this.multiple=this.el.hasAttribute("multiple"),this.disabled=this.el.hasAttribute("disabled"),this.readonly=this.el.hasAttribute("readonly"),this.options=$.extend(!0,{},t,e),this.getOptionData(),this.resetSelection(),this.prepareDrop(),this.emitEvent("update")},Select.prototype.destroy=function(){this.emitEvent("destroy"),this.opened&&(this.close(),focusedInstances.current=null),focusedInstances.current&&focusedInstances.current.el===this.$el[0]&&(focusedInstances.current=null),this.unbindUI(),this.undecorateUI(),this.$el.removeData(rocketName)},Select.prototype.registry=function(){var e=this.$el.data(ns.rocket)||{};e[ns.data]={hasWrapper:!0,wrapper:ns.wrap,ready:utils.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(ns.rocket,e)},Select.prototype.getPosition=function(){return{top:this.$selection.offset().top,left:this.$selection.offset().left}},Select.prototype.getWidth=function(){var e,t=this.$el.attr("class"),s=this.$el.attr("style"),i=$(document.createElement("div")).css("display","none"),o="";return t&&(o+=' class="'+t.replace(utils.getClassname("ready"),"").replace(utils.getClassname("hidden"),"")+'"'),s&&(o+=' style="'+s+'"'),i.html("<div "+o+"></div>").appendTo("body"),e=i.find("div").css("width"),("0px"===e||e.indexOf("-")>-1)&&(e=this.$el.width()+"px"),i.remove(),e},Select.prototype.emitEvent=function(e){this.$el.trigger(events[e])},Select.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints},Select.prototype.isVirtualKeyboardVisible=function(){virtualKeyboardVisible=this.isTouchDevice()},Select.prototype.updateOptionData=function(e,t,s){var i=$.grep(this.optionData,function(e){return e[t.prop]===t.val});e in i[0]&&(i[0][e]=s)};var _select=$.fn.select;ux=$.fn.uxitdselect=$.fn.select=$.fn.Select=$.fn.uxrselect=$.uxrselect=function(e){var t=this.selector;return this.each(function(){$.data(this,ns.data)||$.data(this,ns.data,new Select(this,e,t))})},$.uxrselect.noConflict=!0,ux.update=function(e,t){var s,i=t||e;if(e)if("string"==typeof e)s=$(e);else{if("object"!=typeof e)return;s=e}else s=$("."+utils.getClassname("ready"));s.filter("select").each(function(){$(this).hasClass(utils.getClassname("ready"))?$(this).data(ns.data).update(i):console.warn("Component not initialized yet, update after initialization")})},ux.close=function(){var e=$("."+utils.getClassname("drop"));e.length>0&&e.each(function(){var e=$(utils.escapeSelector("#"+$(this).data("select"))).data(ns.data);e.close()})},ux.destroy=ux.remove=function(e){var t=$("undefined"==typeof e?"."+utils.getClassname("ready"):e);t.each(function(){$(this).data(ns.data).destroy()})},ux.getFocusedInstances=function(){return focusedInstances},$(document).on("ready",function(){$.uxrselect.noConflict&&($.fn.select=_select)}).on(events.click,function(e){null!==focusedInstances.current&&focusedInstances.current.close()}),$(window).on(events.resize+" "+events.touchend+" "+events.scroll,function(){var e=$("."+utils.getClassname("drop"));1===e.length&&$(utils.escapeSelector("#"+e.data("select"))).data(ns.data).setDropPosition()}),ux.version="3.6.3",ux.settings=defaults,ux.namespace=ns});