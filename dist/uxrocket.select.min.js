/*! UX Rocket Select 
 *  jQuery based Select box replacement function 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 3.7.20 
 *  @build Mon Jun 14 2021 15:37:14 GMT+0300 (+03) 
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(e){"use strict";var t=function(){var e=" -webkit- -moz- -o- -ms- ".split(" "),t=function(e){return window.matchMedia(e).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var s=["(",e.join("touch-enabled),("),"heartz",")"].join("");return t(s)},s=function(){var e=t(),s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||s};"undefined"==typeof window.UXRocket&&console.warn("UXRocket Select is required UXRocket Factory to run properly. You can clone/download factory at https://github.com/uxrocket/uxrocket.factory");var i,o=1,n="uxrSelect",a={lastFocused:null,current:null},l=!1,r=!1,c={selection:'<a href="#" id="{{selectionClass}}-{{id}}" class="{{selectionClass}}{{#if multiple}} {{multipleClass}}{{/if}}{{#if disabled}} {{disabledClass}}{{/if}}{{#if readonly}} {{readonlyClass}}{{/if}} {{themeCurrent}}" style="{{width}}">    <span class="{{selectionTextClass}}">{{selectionText}}</span>{{#if searchicon}}    <span id="{{iconHolderId}}" class="{{searchIconHolderClass}}">{{iconTemplate}}</span>{{/if}}{{#if arrowicon}}    <span id="{{iconHolderId}}" class="{{arrowClass}} {{themeArrow}}"></span>{{/if}}</a>',tags:'{{#each selected}}<span class="{{selectionTagClass}} {{selectionTagClass}}-{{selected.index}} {{#if selected.isRemovable}} {{hasRemoveSelected}} {{/if}}" data-index="{{selected.index}}" data-value="{{selected.value}}">    {{selected.text}}    {{#if selected.isRemovable}}    <span class="{{removeSelectionClass}}">X</span>    {{/if}}</span>{{/each}}',multi:'<span class="{{selectionTagClass}} {{selectionTagClass}}-{{index}} {{#if isRemovable}} {{hasRemoveSelected}} {{/if}}" data-index="{{index}}" data-value="{{value}}">    {{selectionText}}    {{#if isRemovable}}    <span class="{{removeSelectionClass}}">X</span>    {{/if}}</span>',search:'<span class="{{searchClass}}">   <input type="{{inputType}}" name="{{searchInput}}" /></span>',list:'<ul class="{{listClass}} {{themeList}}">    {{#if isSelectAllEnable}}    <li id="{{optionClass}}" class="uxr-select-selectAll">        <a class="{{optionClass}} {{themeOption}}" data-value="true">{{selectAllText}}</a>    </li>    {{/if}}    {{#each options}}    {{#if options.groupStart}}    <li class="{{groupClass}}">        <span class="{{groupNameClass}}">{{options.groupName}}</span>        <ul>    {{/if}}    <li id="{{optionClass}}-{{options.index}}" class="{{#if options.selected}}{{selectedClass}} {{themeSelected}}{{/if}} {{#if options.disabled}}{{disabledClass}} {{themeDisabled}}{{/if}}">        <a class="{{optionClass}} {{themeOption}} {{options.class}}" data-index="{{options.index}}" data-value="{{options.value}}">{{options.text}}</a>    </li>    {{#if options.groupEnd}}        </li>    </ul>    {{/if}}    {{/each}}</ul>',drop:'<div id="{{dropID}}" data-select="{{id}}" class="{{dropClass}} {{themeDrop}}{{#if multiple}} {{multipleClass}}{{/if}}">    {{search}}    {{list}}</div>'},p={wrapper:"",disabledForMobile:!1,opened:"",current:"",arrow:"",drop:"",list:"",option:"",selected:"",disabled:"",search:!0,searchItemLimit:10,searchType:"starts",displayType:"tags",multipleInfoMessage:"Seçilen Kayıt:",minLetters:2,maxSelection:0,maxSelectionWarn:"You have reached allowed maximum selection",numeric:!1,isRemovable:!1,onReady:!1,onOpen:!1,onClose:!1,onSelect:!1,onChange:!1,onUpdate:!1,onDestroy:!1,initialRequest:!1,ajaxOptions:{},iconType:"arrow",text:{selectAll:"Tümünü Seç",deSelectAll:"Seçimi Temizle"}},h={focus:"focus."+n,blur:"blur."+n,change:"change."+n,click:"click."+n,mousedown:"mousedown."+n,keyup:"keyup."+n,keydown:"keydown."+n,keypress:"keypress."+n,input:"input."+n,resize:"resize."+n,touchend:"touchend."+n,touchmove:"touchmove."+n,touchstart:"touchstart."+n,ready:"uxrready."+n,open:"uxropen."+n,close:"uxrclose."+n,select:"uxrselect."+n,update:"uxrupdate."+n,destroy:"uxrdestroy."+n,scroll:"scroll",iconClick:"iconclick."+n},d={codes:{8:"backspace",9:"tab",13:"return",27:"esc",37:"left",38:"up",39:"right",40:"down"},backspace:8,tab:9,"return":13,esc:27,left:37,up:38,right:39,down:40},u={prefix:"uxr-",rocket:"uxRocket",data:n,name:"select",classes:{wrap:"wrap",ready:"ready",disabled:"disabled",readonly:"readonly",selection:"selection",selectionText:"selection-text",selectionTag:"selected-tag",removeSelection:"remove-selected-tag",hasRemoveSelected:"has-remove-selected-tag",arrow:"arrow",multiple:"multiple",numeric:"numeric",opened:"opened",drop:"drop",reverseDrop:"reverse-drop",list:"list",option:"option",optionName:"option-name",group:"group",groupName:"group-name",highlight:"highlight",selected:"selected",search:"search",hidden:"aria-hidden",hide:"hide",iconHolder:"icon-holder",selectAll:"selectAll"}},f=/Android|webOS|iPhone|iPad|Opera Mini/i.test(navigator.userAgent),m=new window.uxrPluginUtils({ns:u}),g=function(t,i,a){this.selectAllValue=!0,this.el=t,this.$el=e(t),this.options=e.extend(!0,{},p,i,this.$el.data()),this.options.disabledForMobile&&s()||(this._instance=o,this._name=n,this._defaults=p,this.wrapped=!1,this.id="uxr-select-options-"+o,this.iconHolderId=m.getClassname("iconHolder")+o,this.multiple=this.el.hasAttribute("multiple"),this.disabled=this.el.hasAttribute("disabled"),this.readonly=this.el.hasAttribute("readonly"),this.width=this.getWidth(),this.selector=a,this.opened=!1,this.hasGroup=!1,this.tabbed=!1,this.clicked=!1,this.searchQueryHolder=[],this.nonLetters=[8,9,13,27,38,40,46],o++,this.loadAjaxData())};g.prototype.init=function(){""===this.el.id&&(this.el.id=u.data+"-"+this._instance),this.registry(),this.getOptionData(),this.decorateUI(),this.bindUI(),this.bindSelectionUI(),this.$el.addClass(m.getClassname("ready")),this.emitEvent("ready")},g.prototype.iconClickCallback=function(){this.options.iconClicked&&this.options.iconClicked(),this.emitEvent("iconClick")},g.prototype.prepareRequest=function(){this.requestModel={},this.options.transformRequest&&(this.requestModel=e.extend(!0,this.requestModel,this.options.transformRequest()));var t=null;try{t=this.$search.val()}catch(s){}t&&t.length<3||(this.requestModel[this.options.searchTerm||"searchTerm"]=t)},g.prototype.extendAjaxObject=function(){this.dfd=jQuery.Deferred(),this.ajaxOptions={url:this.options.ajaxUrl,method:this.options.httpMethod||"GET",data:JSON.stringify(this.requestModel),dataType:"JSON",contentType:"application/json; charset=utf-8",success:function(t){var s=[];s=this.options.transformResponse?this.options.transformResponse.call(this,t):t;for(var i="",o=0,n=s.length;o<n;o++)i+='<option value="'+s[o][this.options.value]+'">'+s[o][this.options.key]+"</option>";this.$el.empty().append(i),this.getOptionData(),e(".uxr-select-list").replaceWith(this.renderList()),this.dfd.resolve(s)}.bind(this),error:function(e){console.log("An error occurred fetching ajax data"),this.dfd.reject(e)}.bind(this)},this.ajaxOptions=e.extend(!0,this.ajaxOptions,this.options.ajaxOptions)},g.prototype.sendRequest=function(){return this.prepareRequest(),this.extendAjaxObject(),this.options.changeEndpoint&&(this.options.ajaxUrl=this.options.changeEndpoint()),e.ajax(this.ajaxOptions),this.dfd.promise()},g.prototype.loadAjaxData=function(e){if(this.options.ajax&&this.options.ajaxUrl){if(this.options.initialRequest)return void this.sendRequest().done(function(){this.init()}.bind(this));this.init()}else this.init()},g.prototype.getSelected=function(){var t=[],s=this;return this.multiple?this.$el.find("option:selected").each(function(){t.push({index:e(this).index(),value:e(this).attr("value"),text:e(this).text(),isRemovable:s.options.isRemovable})}):(t.value=this.$el.val(),t.text=this.$el.find("option:selected").text()),t},g.prototype.getOptionData=function(){var t=this,s=0;t.optionData=[],this.$el.find("option").each(function(){var i=!1,o=!1,n=!1;"OPTGROUP"===this.parentElement.tagName&&(this===this.parentElement.firstElementChild&&(o=this.parentElement.label,i=!0),this===this.parentElement.lastElementChild&&(n=!0)),t.optionData.push({groupName:o,groupStart:i,groupEnd:n,index:s,text:e(this).text(),value:e(this).val(),selected:e(this).is(":selected"),disabled:e(this).is(":disabled"),"class":e(this).attr("class")||""}),s++})},g.prototype.decorateUI=function(){this.addAttributes(),this.wrap(),this.addSelection()},g.prototype.undecorateUI=function(){this.unwrap(),this.removeSelection(),this.removeAttributes()},g.prototype.wrap=function(){this.$el.parent().is("label")?this.$el.parent().addClass(m.getClassname("wrap")):(this.wrapped=!0,this.$el.wrap('<label class="'+m.getClassname("wrap")+'"></label>')),this.$el.parent().addClass(this.options.wrapper)},g.prototype.unwrap=function(){this.wrapped?this.$el.unwrap():this.$el.parent().removeClass(m.getClassname("wrap")+" "+this.options.wrapper)},g.prototype.addSelection=function(){var t=this.renderSelection();this.$selection=e(t),this.$el.after(this.$selection)},g.prototype.removeSelection=function(){this.$el.next("."+m.getClassname("selection")).remove(),delete this.$selection},g.prototype.addAttributes=function(){this.$el.addClass(m.getClassname("hidden")).attr("aria-hidden",!0)},g.prototype.removeAttributes=function(){this.$el.removeAttr("aria-hidden").removeClass(m.getClassname("hidden")+" "+m.getClassname("ready"))},g.prototype.bindUI=function(){var e=this;e.$el.on(h.focus,function(t){t.preventDefault(),e.onFocus()}).on(h.open,function(t){e.onOpen(t)}).on(h.close,function(t){e.onClose(t)}).on(h.change,function(t){e.onChange(t)}).on(h.ready,function(t){e.onReady(t)}).on(h.select,function(t){e.onSelect(t)}).on(h.update,function(){e.onUpdate()}).on(h.destroy,function(){e.onDestroy()})},g.prototype.bindSelectionUI=function(){var t=this;t.$selection.on(h.keyup,function(e){e.preventDefault(),t.onKeyup(e)}).on(h.focus,function(e){e.preventDefault(),t.onFocus()}).on(h.blur,function(){t.onBlur()}).on(h.mousedown,function(e){e.stopPropagation(),e.preventDefault(),t.onClick(e)}).on(h.click,function(e){e.stopPropagation(),e.preventDefault()}).on("click","#"+this.iconHolderId,function(e){e.stopPropagation(),e.preventDefault(),t.iconClickCallback()}).on(h.mousedown,"."+m.getClassname("removeSelection"),function(s){return s.stopPropagation(),s.preventDefault(),!t.disabled&&(e(t.optionData).each(function(){this.text===e(s.target).parent().data("value")&&(this.selected=!1)}),void t.removeTag(e(this).parent()))}).parent().on(h.mousedown,function(e){e.stopPropagation(),e.preventDefault(),setTimeout(function(){t.onFocus()},100)})},g.prototype.bindDropUI=function(){var t=this;t.$drop.on(h.touchmove,"."+m.getClassname("option"),function(e){e.stopPropagation(),l=!0}).on(h.touchend,"."+m.getClassname("option"),function(e){e.stopPropagation(),l=!1}).on("click","."+m.getClassname("option"),function(s){s.stopPropagation(),s.preventDefault(),l||(t.emitEvent("select"),t.select(e(s.currentTarget))),l=!1}).on(h.focus,"."+m.getClassname("search")+" input",function(){t.setDropPosition(!0)}),t.bindKeyupListener()},g.prototype.unbindUI=function(){this.emitEvent("destroy"),this.$selection.off("."+n),this.$selection.parent().off("."+n),this.$el.off("."+n)},g.prototype.unbindKeyupListener=function(){e(document).off(h.keyup)},g.prototype.bindKeyupListener=function(){var t=this;e(document).on(h.keyup,function(e){return e.preventDefault(),e.keyCode===d.up||e.keyCode===d.down?t.navigateWithArrow(d.codes[e.keyCode]):e.keyCode===d["return"]?t.navigateWithEnter():e.keyCode===d.esc?t.close():t.$search.val().length>=t.options.minLetters?t.options.ajax&&t.options.ajaxUrl?(t.sendRequest(),t.setDropPosition(!0)):t.search(t.$search.val()):t.setOriginalList(),!0})},g.prototype.select=function(e){var t=m.getClassname("selected"),s=m.getClassname("highlight"),i=m.getClassname("selectionText"),o=m.getClassname("selectionTag"),n=m.getClassname("removeSelection"),a=m.getClassname("hasRemoveSelected"),l=e.parent(),r=l.attr("id"),p=e.data("index"),h=e.data("value"),d=e.text(),u=this.$el.val(),f=this.options.isRemovable;if(!l.hasClass(m.getClassname("disabled"))){if(this.multiple&&this.$el.data("select-all"))return void this.prepareToggleAll(e);if(this.multiple){if(l.hasClass(t))this.deSelect(h);else{if(this.options.maxSelection>0&&null!==u&&u.length>=this.options.maxSelection)return void alert(this.options.maxSelectionWarn);if(this.$el.find('[value="'+h+'"]').prop("selected",!0),this.$list.find("#"+r).addClass(t),l.addClass(t),"tags"===this.options.displayType){var g=m.render(c.multi,{selectionText:d,selectionTagClass:o,removeSelectionClass:n,index:p,value:h,isRemovable:f,hasRemoveSelected:a});null===this.$el.val()?this.$selection.find("."+i).html(g):this.$selection.find("."+i).append(g)}else this.$selection.find("."+i).html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length);this.options.search&&this.updateOptionData("selected",{prop:"index",val:p},!0),this.selectedData()}this.setDropPosition()}else this.$list.find("."+s).removeClass(s),this.$list.find("."+t).removeClass(t),this.$selection.find("."+i).text(d),this.$el.find('[value="'+h+'"]').prop("selected",!0),this.onBlur(),this.$list.find("#"+r).addClass(t),""!==this.$el.val()?this.$selection.parent().addClass(t+" "+this.options.selected):this.$selection.parent().removeClass(t+" "+this.options.selected);this.emitEvent("change")}},g.prototype.deselectAll=function(t,s){var i=m.getClassname("selectionText"),o=(s.toggleAllItems?"selected":"",this);t.find("li").each(function(){var t=e(this).find("li");e(this).removeClass(m.getClassname("selected")),t.length&&o.deselectAll(t,s)}),this.$el.find("option").each(function(){e(this).prop("selected",!1)}),this.$selection.find("."+i).html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length)},g.prototype.selectAll=function(t,s){var i=m.getClassname("selectionText"),o=(s.toggleAllItems?"selected":"",this);t.find("li").each(function(){var t=e(this).find("li");e(this).addClass(m.getClassname("selected")),t.length&&o.selectAll(t,s)}),this.$el.find("option").each(function(){e(this).prop("selected",!0)}),this.$selection.find("."+i).html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length)},g.prototype.prepareToggleAll=function(t){var s=e(m.escapeSelector("#"+this.$drop.data("select"))).data(u.data);this.selectAllValue?(t.parent().addClass(m.getClassname("selected")),t.text(this.options.text.deSelectAll),this.selectAll(this.$list,s),this.selectAllValue=!1):(t.parent().removeClass(m.getClassname("selected")),t.text(this.options.text.selectAll),this.deselectAll(this.$list,s),this.selectAllValue=!0)},g.prototype.selectedItems=function(){return this.optionData.filter(function(e){return e.selected===!0})},g.prototype.deSelect=function(t){try{var s=m.getClassname("selected"),i=m.getClassname("selectionText"),o=(m.getClassname("selectionTag"),e('[data-value="'+t+'"]').parent()),n=this.$drop.find('[data-value="'+t+'"]').data("index")}catch(a){return void console.log(a)}if(t&&this.$el.find('[value="'+t+'"]').prop("selected",!1),this.$drop?this.$drop.find('[data-value="'+t+'"]').parent().removeClass(s):this.prepareDrop(),this.$el.find('[value="'+t+'"]').removeAttr("selected"),o.removeClass(s),this.$selection.find('[data-value="'+t+'"]').remove(),this.$el.val()&&this.$el.val(e.grep(this.$el.val(),function(e){return e!==t})),this.multiple&&"tags"!==this.options.displayType){var l=this.$selection.find("."+i);this.$el.val()?l.html(this.options.multipleInfoMessage+" "+this.$el.val().length+"/"+this.optionData.length):l.html(this.options.multipleInfoMessage+" 0/"+this.optionData.length)}this.multiple&&"tags"===this.options.displayType&&(null===this.$el.val()||this.$el.val().length<1)&&this.$selection.find("."+i).text(this.multiplePlaceholder),this.emitEvent("change"),this.$el.trigger("change"),this.updateOptionData("selected",{prop:"index",val:n},!1),this.selectedData()},g.prototype.removeTag=function(e){this.deSelect(e.data("value")),this.setDropPosition()},g.prototype.search=function(t){var s,i,o=this,n=this.$drop.find("."+m.getClassname("list"));s=e.map(this.optionData,function(e){if(o._search(e,t.trim()))return e}),i=this.renderList(s),n.replaceWith(i),this.setDropPosition(!0)},g.prototype._search=function(e,t){var s=e.text.replace("İ","i").toLowerCase(),i=e.value.replace("İ","i").toLowerCase(),o=t.replace("İ","i").toLowerCase();switch(this.options.searchType){default:case"starts":return 0===s.indexOf(o)||0===i.toLowerCase().indexOf(o);case"contains":return s.indexOf(o)>-1||i.toLowerCase().indexOf(o)>-1}},g.prototype.navigateWithEnter=function(){if(!this.multiple){var e=this.$drop.find("."+m.getClassname("list")),t=m.getClassname("highlight"),s=e.find("."+t);s.length>0&&(s.removeClass(t),this.select(s.find("a")),this.emitEvent("select"))}},g.prototype.navigateWithArrow=function(t){var s,i=m.getClassname("highlight"),o=this.$drop.find("."+m.getClassname("list")),n=o.find("li:not(."+m.getClassname("group")+")"),a=o.find("."+i).length>0?o.find("."+i):o.find("."+m.getClassname("selected")),l=n.index(a),r=o.offset().top,c=o.scrollTop(),p=o.height();if(a.length)a.removeClass(i),"up"===t?--l<0&&(l=n.length-1):n.length===++l&&(l=0),s=e(n[l]).addClass(i),s.length&&("down"===t?s.offset().top>r+p-s.height()?o.scrollTop(c+s.height()):s.offset().top<r&&o.scrollTop(0):s.offset().top<r?o.scrollTop(c-s.height()):s.offset().top>r+p&&o.scrollTop(c+s.offset().top));else{var h="up"===t?"last":"first";n[h]().addClass(i)}},g.prototype.renderSelection=function(){var e={id:this.el.id,selectionClass:m.getClassname("selection"),multiple:this.multiple,multipleClass:m.getClassname("multiple"),disabled:this.disabled,disabledClass:m.getClassname("disabled"),readonly:this.readonly,readonlyClass:m.getClassname("readonly"),width:"width:"+this.width,selectionTextClass:m.getClassname("selectionText"),selectionText:this.getSelected().text,arrowClass:m.getClassname("arrow"),themeCurrent:this.options.current,themeArrow:this.options.arrow,arrowicon:"arrow"===this.options.iconType,searchicon:"search"===this.options.iconType,searchIconHolderClass:m.getClassname("iconHolder"),iconTemplate:this.options.iconTemplate,iconHolderId:this.iconHolderId};return this.multiple&&(this.multiplePlaceholder=this.$el.attr("placeholder")||this.options.placeholder||"",this.getSelected().length>0?"text"===this.options.displayType?e.selectionText=this.options.multipleInfoMessage+" "+this.getSelected().length+"/"+this.optionData.length:e.selectionText=this.renderSelectionTags():e.selectionText=this.multiplePlaceholder),m.render(c.selection,e)},g.prototype.renderSelectionTags=function(){var e={selectionTagClass:m.getClassname("selectionTag"),removeSelectionClass:m.getClassname("removeSelection"),hasRemoveSelected:m.getClassname("hasRemoveSelected"),selected:this.getSelected()};return m.render(c.tags,e)},g.prototype.renderSearchField=function(){var e={searchClass:m.getClassname("search"),searchInput:m.getClassname("search")+"-"+this._instance,inputType:this.options.numeric?"tel":"text",list:this.id};return m.render(c.search,e)},g.prototype.renderList=function(e){console.warn("957 this.multiple",this.multiple),this.$el.data("select-all")||this.$el.data("select-all",!1);var t={listClass:m.getClassname("list"),groupClass:m.getClassname("group"),groupNameClass:m.getClassname("groupName"),selectedClass:m.getClassname("selected"),disabledClass:m.getClassname("disabled"),optionClass:m.getClassname("option"),selectAllText:this.options.text.selectAll,deSelectAllText:this.options.text.deSelectAll,options:e||this.optionData,isSelectAllEnable:this.multiple&&this.$el.data("select-all"),themeList:this.options.list,themeSelected:this.options.selected,themeDisabled:this.options.disabled,themeOption:this.options.option};return m.render(c.list,t)},g.prototype.renderDrop=function(){this.$el.data("select-all")||this.$el.data("select-all",!1),console.warn("renderDrop",this.$el.data("select-all"));var e={dropID:this.id,id:this.el.id,dropClass:m.getClassname("drop"),themeDrop:this.options.drop,selectAllText:this.options.text.selectAll,deSelectAllText:this.options.text.deSelectAll,multiple:this.multiple&&this.$el.data("select-all"),multipleClass:m.getClassname("drop")+"-multiple",search:this.renderSearchField(),list:this.renderList()};return m.render(c.drop,e)},g.prototype.prepareDrop=function(){this.$drop=e(this.renderDrop()),this.$list=this.$drop.find("."+m.getClassname("list")),this.$search=this.$drop.find("."+m.getClassname("search")+" input"),this.setDropPosition(),this.setListPosition(),!this.options.search||this.options.searchItemLimit>=this.optionData.length?this.options.ajax||this.$search.parent().addClass(m.getClassname("hide")):this.$search.parent().removeClass(m.getClassname("hide"))},g.prototype.setDropPosition=function(t){if(this.$drop){var s={top:this.getPosition().top+this.$selection.height(),left:this.getPosition().left,width:this.$selection.outerWidth()},i=e(".uxr-select-list"),o=this.$drop.height()>280?280:this.$drop.height(),n=t?280:0,a=document.documentElement.clientHeight-n,l=this.$el.offset().top-e(window).scrollTop(),r=a-l-this.$selection.height(),c={top:function(){i.css({maxHeight:l>250?250:l})},bottom:function(){i.css({maxHeight:r>250?250:r})}};if(r>=o)c.bottom();else{var p=o-r<o-l?"bottom":"top";"bottom"===p?c.bottom():(c.top(),s.top=this.getPosition().top-this.$drop.height())}this.$drop.css(s).removeClass(m.getClassname("reverseDrop"))}},g.prototype.setListPosition=function(){var e=this.$list.find("."+m.getClassname("selected")+":eq(0)");1===e.length&&this.$list.scrollTop(e.offset().top-this.$list.offset().top-this.$list.height()/2)},g.prototype.setOriginalList=function(){this.$drop.find("."+m.getClassname("list")).replaceWith(this.$list)},g.prototype.showDrop=function(){this.$drop.appendTo("body"),this.setDropPosition(),this.setListPosition(),this.$list.find("."+m.getClassname("highlight")).removeClass(m.getClassname("highlight")),this.bindDropUI()},g.prototype.hideDrop=function(){var t=e("#"+this.id);t.length>0&&(e("#"+this.id).remove(),this.$search.val(""),this.setOriginalList())},g.prototype.open=function(){if(!this.disabled&&!this.readonly){try{document.activeElement.blur()}catch(e){console.log(e)}if(i.close(),this.$drop||this.prepareDrop(),this.isVirtualKeyboardVisible(),this.showDrop(),this.$selection.parent().addClass(m.getClassname("opened")+" "+this.options.opened),this.opened=!0,f||this.$search.focus(),this.emitEvent("open"),this.options.ajax&&this.options.ajaxUrl){var t=this.$drop.find("."+m.getClassname("list")),s=this.renderList();t.replaceWith(s)}this.setDropPosition(!0),C()}},g.prototype.close=function(){e(document).off(h.click);var t=this;l=!1,r=!1,this.clicked=!1,this.tabbed=!1,this.opened=!1,setTimeout(function(){t.unbindKeyupListener(),t.hideDrop(),t.$selection.parent().removeClass(m.getClassname("opened")+" "+t.options.opened),t.emitEvent("close")},200)},g.prototype.onKeyup=function(e){e.keyCode===d.tab&&(this.tabbed=!0)},g.prototype.onClick=function(t){try{if("tags"===this.options.displayType&&e(t.target).parent().hasClass(m.getClassname("iconHolder")))return}catch(s){console.log(s)}this.clicked=!0,this.opened?this.onBlur():this.onFocus()},g.prototype.onFocus=function(){a.lastFocused=a.current,a.current=this,this.open()},g.prototype.onBlur=function(){this.close()},g.prototype.onChange=function(e){m.callback(this.options.onChange)},g.prototype.onReady=function(){m.callback(this.options.onReady)},g.prototype.onOpen=function(){m.callback(this.options.onOpen)},g.prototype.onClose=function(){m.callback(this.options.onClose)},g.prototype.onSelect=function(){m.callback(this.options.onSelect)},g.prototype.selectedData=function(){(this.options.selectedData||"function"==typeof this.options.selectedData)&&m.callback(this.options.selectedData(this.selectedItems()))},g.prototype.onUpdate=function(){m.callback(this.options.onUpdate)},g.prototype.onDestroy=function(){m.callback(this.options.onDestroy)},g.prototype.resetSelection=function(){this.removeSelection(),this.addSelection(),this.bindSelectionUI()},g.prototype.update=function(t){var s=this.options;this.multiple=this.el.hasAttribute("multiple"),this.disabled=this.el.hasAttribute("disabled"),this.readonly=this.el.hasAttribute("readonly"),this.options=e.extend(!0,{},s,t),this.getOptionData(),this.resetSelection(),this.prepareDrop(),this.emitEvent("update")},g.prototype.destroy=function(){this.emitEvent("destroy"),this.opened&&(this.close(),a.current=null),a.current&&a.current.el===this.$el[0]&&(a.current=null),this.unbindUI(),this.undecorateUI(),this.$el.removeData(n)},g.prototype.registry=function(){var e=this.$el.data(u.rocket)||{};e[u.data]={hasWrapper:!0,wrapper:u.wrap,ready:m.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(u.rocket,e)},g.prototype.getPosition=function(){return{top:this.$selection.offset().top,left:this.$selection.offset().left}},g.prototype.getWidth=function(){var t,s=this.$el.attr("class"),i=this.$el.attr("style"),o=e(document.createElement("div")).css("display","none"),n="";return s&&(n+=' class="'+s.replace(m.getClassname("ready"),"").replace(m.getClassname("hidden"),"")+'"'),i&&(n+=' style="'+i+'"'),o.html("<div "+n+"></div>").appendTo("body"),t=o.find("div").css("width"),("0px"===t||t.indexOf("-")>-1)&&(t=this.$el.width()+"px"),o.remove(),t},g.prototype.emitEvent=function(e){this.$el.trigger(h[e])},g.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints},g.prototype.isVirtualKeyboardVisible=function(){r=this.isTouchDevice()},g.prototype.updateOptionData=function(t,s,i){var o=e.grep(this.optionData,function(e){return e[s.prop]===s.val});try{t in o[0]&&(o[0][t]=i)}catch(n){console.log(n)}};var v=e.fn.select;i=e.fn.uxitdselect=e.fn.select=e.fn.Select=e.fn.uxrselect=e.uxrselect=function(t){var s=this.selector;return this.each(function(){e.data(this,u.data)||e.data(this,u.data,new g(this,t,s))})},e.uxrselect.noConflict=!0,i.update=function(t,s){var i,o=s||t;if(t)if("string"==typeof t)i=e(t);else{if("object"!=typeof t)return;i=t}else i=e("."+m.getClassname("ready"));i.filter("select").each(function(){e(this).hasClass(m.getClassname("ready"))?e(this).data(u.data).update(o):console.warn("Component not initialized yet, update after initialization")})},i.close=function(){var t=e("."+m.getClassname("drop"));t.length>0&&t.each(function(){var t=e(m.escapeSelector("#"+e(this).data("select"))).data(u.data);t.close()})},i.destroy=i.remove=function(t){var s=e("undefined"==typeof t?"."+m.getClassname("ready"):t);s.each(function(){e(this).data(u.data).destroy()})},i.toggleAll=function(t,s){m.getClassname("selected");console.log(this.multiple);var i=e("undefined"==typeof t?"."+m.getClassname("ready"):t),o=i.data(u.data);o.toggleAllItems=s,o.toggleAllEnable=!0,o.toggleAll(),console.log("instance",o)},i.getFocusedInstances=function(){return a},e(document).on("ready",function(){e.uxrselect.noConflict&&(e.fn.select=v)});var C=function(){e(document).on(h.click,function(t){var s=e(t.target);s.hasClass("uxr-select-search")||s.parent().hasClass("uxr-select-search")||(console.log("focusedInstances",a,s),null!==a.current&&a.current.close())})};e(window).on(h.resize+" "+h.touchend+" "+h.scroll,function(){var t=e("."+m.getClassname("drop"));1===t.length&&e(m.escapeSelector("#"+t.data("select"))).data(u.data).setDropPosition(!0)}),i.version="3.7.20",i.settings=p,i.namespace=u});